<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    body{
        width: 98vw;
        height: 97vh;
    }
    .questions{
        height: 15%;
        text-align: center;
    }
    .question{
        display: inline-block;
        width: 20%;
        font-size: 3rem;
        text-align: center;
        font-weight: bold;
        color: #32C1E0;
    }
    .question2{
        text-align: left;
        font-size: 1.2rem;
        width: 60%;
        display: inline-block;
    }
    .test_img{
        height: 40%;
        text-align: center;
    }
    .test_img>img{
        height: 100%;
    }
    .options{
        padding: 0% 30% 0% 30%;
        height: 20%;
        text-align: center;
    }
    .option{
        border-radius: 30px;
        padding: 1.5rem 5rem 1.5rem 5rem;
        margin-top:1.5rem;
        text-align: center;
        border: 3px solid #d4f1f6;
    }
    .option:hover{
        background-color: #d4f1f6;
    }
    .process{
        color: #32C1E0;
        height: 10%;
        text-align: center;
    }
    .process>.p_num{
        font-size: 1.5rem;
        display: inline;
    }
    .process>progress{
        appearance: none;
        width: 50%;
        height: 30px;
    }
    .process>progress::-webkit-progress-value{
        background: #32C1E0;
        border-radius: 20px;
    }
    .process>progress::-webkit-progress-bar{
        background: white;
        border: 2px solid #32C1E0;
        border-radius: 20px;
    }
</style>
<body>
    <div class="process">
        <progress value="10" max="100" id="pro"></progress>
        <div class="p_num">1/10</div>
    </div>
    <div class="questions">  
        <div class="question" id="question">Q1</div>
        <div class="question2">밖 or 집</div>
    </div>
    <div class="test_img">
        <img src="./img/img1.png">
    </div>
    <div class="options">
        <div class="option" onclick="Select_op(1)">
            집
        </div>
        <div class="option"onclick="Select_op(2)">
            밖
        </div>
    </div>
</body>
<script>
    let Q_count=1;
    let Max_qc = 10;
    var hobby_cnt ={
        "일기/다이어리꾸미기":0, "여행/투어/탐방":0, "게임":0,"요리":0,"수집":0,"식물/정원":0,"독서(소설, 자기계발서, 판타지 등)":0,"영화/드라마":0,"음악/콘서트":0,
        "뮤지컬/공연":0, "박물관/미술관":0, "걷기/달리기":0,"등산":0,"자전거":0,"스포츠":0,"요가/필라테스":0,"공예/만들기":0,"그림":0,"노래/작사/작곡":0,"악기":0,
        "사진":0,"패션":0,
    }
    var H_count= new Array(22)
    for(let i=0; i<H_count.leght; i++)
    {
        H_count[i]=0;
    }

    let q_num = document.getElementsByClassName("question")[0];
    let question = document.getElementsByClassName("question2")[0];
    let op1=document.getElementsByClassName("option")[0];
    let op2=document.getElementsByClassName("option")[1];
    let img = document.getElementsByClassName("test_img")[0];
    let pro = document.getElementById("pro");
    let pro_num = document.getElementsByClassName("p_num")[0];

    let result_h="";
    
    function Select_op(op)
    {
        switch(Q_count){
            case 1 : 
                question.innerHTML="여유시간어느정도?";
                op1.innerHTML="장기간 ";
                op2.innerHTML="단기간";
                if(op==1)
                {
                    hobby_cnt["일기/일기/다이어리꾸미기"]++; hobby_cnt["게임"]++; hobby_cnt["요리"]+=2; hobby_cnt["수집"]+=3; 
                    hobby_cnt["독서(소설, 자기계발서, 판타지 등)"]++; hobby_cnt["음악/콘서트"]++; hobby_cnt["스포츠"]++; hobby_cnt["요가/필라테스"]++; 
                    hobby_cnt["공예/만들기"]++; hobby_cnt["그림"]++; hobby_cnt["노래/작사/작곡"]++; hobby_cnt["악기"]++; hobby_cnt["패션"]++; 
                }
                else
                {
                    hobby_cnt["여행/투어/탐방"]++; hobby_cnt["식물/정원"]++; hobby_cnt["음악/콘서트"]++; hobby_cnt["뮤지컬/공연"]++; 
                    hobby_cnt["박물관/미술관"]++; hobby_cnt["자전거"]++; hobby_cnt["스포츠"]++; hobby_cnt["요가/필라테스"]++; 
                    hobby_cnt["공예/만들기"]++; hobby_cnt["사진"]++; hobby_cnt["노래/작사/작곡"]++; hobby_cnt["악기"]++; hobby_cnt["패션"]++; 
                }
                break;
            case 2 : 
                question.innerHTML="어느정도 기간 선호?";
                op1.innerHTML="넉넉함";
                op2.innerHTML="적음";
                break;
            case 3 : 
                question.innerHTML="지갑사정?";
                op1.innerHTML="부유하다 ";
                op2.innerHTML="가난하다";
                break;
            case 4 : 
                question.innerHTML="분위기?";
                op1.innerHTML="잔잔 ";
                op2.innerHTML="소란";
                break;
            case 5 : 
                question.innerHTML="인원수?";
                op1.innerHTML="혼자 ";
                op2.innerHTML="다수";
                break;
            case 6 : 
                question.innerHTML="혹시.. 좀.. 귀찮은..편.?";
                op1.innerHTML="응";
                op2.innerHTML="별로";
                break;
            case 7 : 
                question.innerHTML="여유공간?";
                op1.innerHTML="있음";
                op2.innerHTML="없음";
                break;
            case 8 : 
                question.innerHTML="여유시간어느정도?";
                op1.innerHTML="넉넉함";
                op2.innerHTML="적음";
                break;
            case 9 : 
                question.innerHTML="여유시간어느정도?";
                op1.innerHTML="넉넉함";
                op2.innerHTML="적음";
                break;
            default :
                let max=0;
                for(x in hobby_cnt){
                    if(hobby_cnt[x]>max){ max= hobby_cnt[x]; result_h=x;}
                }
                break;
        }
        if(Q_count!=Max_qc){  
            Q_count++;
            q_num.innerHTML="Q"+Q_count.toString();
            pro.value = Q_count*10;
            pro_num.innerHTML=Q_count.toString() + "/" + Max_qc.toString();
        }
        var php_sum ="<?php sum(); ?>"
        document.write(php_sum);
    }
</script>
<?php

$hobby_cnt =array(
    "일기/다이어리꾸미기"=>0, "여행/투어/탐방"=>0, "게임"=>0,"요리"=>0,"수집"=>0,"식물/정원"=>0,"독서(소설, 자기계발서, 판타지 등)"=>0,"영화/드라마"=>0,"음악/콘서트"=>0,
    "뮤지컬/공연"=>0, "박물관/미술관"=>0, "걷기/달리기"=>0,"등산"=>0,"자전거"=>0,"스포츠"=>0,"요가/필라테스"=>0,"공예/만들기"=>0,"그림"=>0,"노래/작사/작곡"=>0,"악기"=>0,
    "사진"=>0,"패션"=>0,)
$result_h="";
function sum($q, $a){
    switch($q){
        case 1:
            if(a==1){
                $hobby_cnt["일기/일기/다이어리꾸미기"]++; $hobby_cnt["게임"]++; $hobby_cnt["요리"]+=2; $hobby_cnt["수집"]+=3; 
                $hobby_cnt["독서(소설, 자기계발서, 판타지 등)"]++; $hobby_cnt["음악/콘서트"]++; $hobby_cnt["스포츠"]++; $hobby_cnt["요가/필라테스"]++; 
                $hobby_cnt["공예/만들기"]++; $hobby_cnt["그림"]++; $hobby_cnt["노래/작사/작곡"]++; $hobby_cnt["악기"]++; $hobby_cnt["패션"]++; 
            }
            else{ 
                $hobby_cnt["여행/투어/탐방"]++; $hobby_cnt["식물/정원"]++; $hobby_cnt["음악/콘서트"]++; $hobby_cnt["뮤지컬/공연"]++; 
                $hobby_cnt["박물관/미술관"]++; $hobby_cnt["자전거"]++; $hobby_cnt["스포츠"]++; $hobby_cnt["요가/필라테스"]++; 
                $hobby_cnt["공예/만들기"]++; $hobby_cnt["사진"]++; $hobby_cnt["노래/작사/작곡"]++; $hobby_cnt["악기"]++; $hobby_cnt["패션"]++; 
            }
            break;
        case 2:
            break;
        case 3:
            break;
        case 4:
            break;
        case 5:
            break;
        case 6:
            break;
        case 7:
            break;
        case 8:
            break;
        case 9:
            break;
        default:
            $max=0;
            foreach ($hobby_cnt as $key => $value) {
                if($value>$max){$max=$value; $result_h=$key;}
            }
            break;
    }
}
?>
</html>